@import "src/components/animations";

$supertapeScale: 1rem;

.supertape-container {
  font-family: 'Helvetica', 'Arial', sans-serif;
  font-weight: 800;
  text-transform: uppercase;
  transform: rotate(-15deg);
}

.supertape-title {
  font-size: 3.7rem;
  color: #FFFFEE;
}

.supertape-subtitle {
  color: #E4BC07;
}

.supertape-footer {
  color: #FFFFEE;
}

.supertape-stripes {
  position: relative;
}

.supertape-stripe {
  width: 200vw;
  height: $supertapeScale;
  position: absolute;
  left: -100vw;

  &.red { background-color: #E12D36; }
  &.green { background-color: #94C637; }
  &.blue { background-color: #028BBB; }

  $lines: 1, 2, 3;
  @each $n in $lines {
    &:nth-child(#{$n}) {
      top: ($n - 1)  * $supertapeScale;
    }
  }
}

.supertape-footer-container {
  position: relative;
  top: 3 * $supertapeScale;
  line-height: 1;

  .supertape-subtitle-t120 {
    font-size: 2.5rem;
  }

  .supertape-subtitle-hour {
    padding-left: 0.5em;
    font-size: 1.5rem;
  }

  .supertape-footer {
    font-size: 2.55rem;
  }
}

/* Animating in */
.current-panel:not(.fading-panel) {
  .supertape-title {
    animation-name: stripe-fly-down-and-in;
    animation-duration: 1s;
  }

  .supertape-footer-container {
    animation-name: stripe-fly-up-and-in;
    animation-duration: 1s;
  }

  .supertape-stripe {
    &:nth-child(2) {
      animation-name: stripe-slidein-from-left;
      animation-timing-function: linear;
      transform-origin: left;
      animation-duration: 1s;
    }

    &:nth-child(1), &:nth-child(3) {
      animation-name: stripe-gone, stripe-widen;
      animation-timing-function: ease;
      animation-delay: 0s, 1s;
      animation-duration: 1s, 0.25s;
    }

    &:nth-child(1) {
      transform-origin: bottom;
    }
    &:nth-child(3) {
      transform-origin: top;
    }
  }
}

.fading-panel {
  .supertape-title {
    animation-name: stripe-slideout-to-left;
    animation-duration: 1.25s;
  }

  .supertape-footer-container {
    animation-name: stripe-slideout-to-right;
    animation-duration: 1.25s;
  }

  .supertape-stripe {
    animation-timing-function: linear;
    animation-duration: 1.25s;

    &:nth-child(1) {
      animation-name: stripe-slideout-to-left;
    }
    &:nth-child(2) {
      animation-name: stripe-slideout-to-right;
    }
    &:nth-child(3) {
      animation-name: stripe-slideout-to-right;
    }
  }
}
